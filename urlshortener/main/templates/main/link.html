{% extends "base.html" %}

{% block content %}
    <div class="wrapper">
        <p>
            <span style="font-weight:bold;">Shortened URL: </span>
            <a href="{{ shortened_url }}" id="shortened_url">{{ shortened_url }}</a>
            <button class="copybutton" id="CopyButton">Copy</button>
        </p>
        <div id="copyNotification" style="display:none; color:green; margin-top:10px;">
            URL copied to clipboard!
        </div>
    </div>

<script>
    document.getElementById("CopyButton").addEventListener("click", function(){
        var urlField = document.getElementById("shortened_url");
        
        var tempInput = document.createElement("input");
        tempInput.value = urlField.href;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);

        var notification = document.getElementById("copyNotification");
        notification.style.display = "block";

        setTimeout(function() {
            notification.style.display = "none";
        }, 2000);

    });
</script>
{% endblock %}